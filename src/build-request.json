{
  "kind": "build_request",
  "title": "Add typing indicator and chat online/offline status management",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Display a typing indicator in the chat interface when the other party is actively typing a message",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-7"
        ],
        "quotes": [
          "mostrar no chat o quando ta digitando"
        ]
      },
      "acceptanceCriteria": [
        "Typing indicator appears in chat when the other user is typing",
        "Indicator disappears when typing stops or message is sent",
        "Works bidirectionally for both admin and client chat views"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Add online/offline status indicator for the chat system visible in the admin panel",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-7"
        ],
        "quotes": [
          "coloque o status do chat se est√° online ou offline no painel administrativo"
        ]
      },
      "acceptanceCriteria": [
        "Chat status (online/offline) is displayed in the admin panel",
        "Status indicator clearly shows whether chat is available or unavailable",
        "Status persists across sessions"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Provide admin controls to manually change the chat status between online and offline",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-7"
        ],
        "quotes": [
          "pra alterar o status do chat"
        ]
      },
      "acceptanceCriteria": [
        "Admin can toggle chat status between online and offline",
        "Status change is immediately reflected in the admin panel",
        "When chat is offline, clients see an appropriate message or disabled state",
        "Status change persists in backend storage"
      ]
    }
  ],
  "constraints": [
    "Use existing chat message infrastructure from backend/main.mo",
    "Maintain consistency with current VMStatus pattern for status management",
    "Keep the Carbon Black/Neon Green theme consistent across new UI elements"
  ],
  "nonGoals": [
    "Real-time WebSocket implementation (not supported on platform)",
    "Read receipts or message delivery confirmations",
    "Chat history pagination"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}